"use strict";angular.module("widgetkit").controller("twitterCtrl",["$scope","$element","Application","$http",function(l,u,i,o){var t=this,e;t.connected=u[0].getAttribute("data-status"),t.loading=!1,t.openPopup=function(n){e=window.open(n,"","width=800,height=500")},l.$watch("twitter.pin",function(n){!n||n.length<7||(t.loading=!0,o.post(i.url("twitter_auth"),{pin:n}).then(function(){t.connected=!0,t.pin="",e&&e.close()}).finally(function(){t.loading=!1}))}),t.disconnect=function(){t.loading=!0,o.delete(i.url("twitter_auth")).then(function(){t.connected=!1}).finally(function(){t.loading=!1})}}]);
